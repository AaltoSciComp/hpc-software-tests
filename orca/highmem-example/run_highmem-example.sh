#!/bin/bash
#SBATCH -J 6ringc
#SBATCH -o 6ringc.out
#SBATCH -e 6ringc.err
#SBATCH -t 48:00:00
#SBATCH -N 1
#SBATCH -n 80
#SBATCH --mem=1990GB

# Example from this issue:
# https://version.aalto.fi/gitlab/AaltoScienceIT/triton/-/issues/1836
#
# Unknown if it ever completes. Run successfully for 12 minutes for Simppa.
#

set -e

if [[ "$#" -gt 0 ]]; then
    MODULES=${@:1}
    echo "Running on: "$(hostname)
    echo "Loading modules: "$MODULES
    module purge
    module load $MODULES
fi

rm -f 6ringc.*

cat > 6ringc.inp << EOF
! DLPNO-CCSD(T) tightPNO def2-TZVP def2-TZVP/C RIJCOSX def2/J tightSCF noautostart miniprint 
%maxcore     18750 
%pal nprocs   80 end 
%SCF
      CONVERGENCE 
            LOOSE
end
* xyz   0   1
 C                 -6.18263400    0.00083000    0.00016800
 C                 -6.15236600   -1.38633700    0.00062900
 C                 -4.94048400   -2.07292800    0.00072800
 C                 -3.70079800   -1.38933000    0.00038600
 C                 -3.72035300    0.04834700   -0.00003400
 C                 -4.97047000    0.73751400   -0.00018900
 C                 -2.47306400   -2.06436500    0.00040500
 C                 -1.23223100   -1.38852800    0.00011500
 C                 -1.22889000    0.05431400   -0.00009700
 C                 -2.50042800    0.77690500   -0.00034300
 C                 -2.55966500    2.17908900   -0.00092600
 C                 -3.78047700    2.85758000   -0.00111400
 C                 -4.96954800    2.15066700   -0.00072300
 C                 -0.00001200   -2.05814800    0.00005300
 C                  1.23222800   -1.38853600   -0.00003100
 C                  1.22888100    0.05431400    0.00013200
 C                 -0.00000700    0.71945200   -0.00001700
 C                  2.47305100   -2.06437100   -0.00030800
 C                  3.70078200   -1.38932900   -0.00037600
 C                  3.72033900    0.04834800    0.00002100
 C                  2.50043100    0.77691600    0.00039300
 C                  4.94047400   -2.07292500   -0.00076100
 C                  6.15236200   -1.38634800   -0.00075600
 C                  6.18263500    0.00081600   -0.00032100
 C                  4.97048300    0.73750700    0.00010700
 C                  4.96957000    2.15064900    0.00067300
 C                  3.78048800    2.85757800    0.00116400
 C                  2.55969500    2.17911000    0.00102900
 H                 -7.13252800    0.54012400    0.00006500
 H                 -7.08887500   -1.94970700    0.00090800
 H                 -4.93352900   -3.16590100    0.00106900
 H                 -2.47187200   -3.15726900    0.00070400
 H                 -1.64301900    2.76920700   -0.00126600
 H                 -3.79093000    3.94981700   -0.00157700
 H                 -5.92642000    2.67958600   -0.00084100
 H                 -0.00001000   -3.15097100    0.00008500
 H                  0.00002100    1.80656400   -0.00012900
 H                  2.47187600   -3.15727500   -0.00052400
 H                  4.93353300   -3.16590400   -0.00105700
 H                  7.08885100   -1.94975200   -0.00108500
 H                  7.13251800    0.54013400   -0.00030200
 H                  5.92645500    2.67953900    0.00073500
 H                  3.79090800    3.94981500    0.00166600
 H                  1.64306100    2.76925900    0.00150500
* 
EOF


$(command -v orca) 6ringc.inp > 6ringc.out
